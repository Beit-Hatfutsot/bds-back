Server Setup
------------

Required packages and directories, run as root on the server:

 $ apt-get install uwsgi-core uwsgi-plugin-python supervisor
 $ mkdir /etc/bhs
 $ mkdir /var/log/bhs
 $ mkdir /var/run/bhs
 $ chown bhs /etc/bhs /var/log/bhs /var/run/bhs

Putting the source, run on local dev:

 $ fab [-H server_addresss] deploy # default is devapi.dbs.bh.org.il

First time copying of conf files:

 $ cd ~bhs/api
 $ cp conf/supervisor_conf.d/* /etc/supervisor/conf.d
 $ cp conf/api-uwsgi.ini /etc/bhs
 $ supervisorctl update

Using the shell
---------------

 $ python flask_shell.py

Generating Docs
---------------

The docs are in the `/docs` directory and to generate them you'll need to
install the aglio:

    # npm install -g aglio

Then, make the changes you want in `docs/index.apib` and compile it using:

    $ apilo -i docs/idex.apib -o docs/index.html

